<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

</head>
<body>
    <div class="wrapper" id="fullpage">
        <div class="section">        
            <header class="header">
                <div class="header_container">
                    <div class="logo">
                        <a href="/"></a>
                    </div>
                    <div class="search_buy_box">
                        <ul>
                            <li class="icon">
                                <a href="/"><img src="/img/search.png" alt="search"/></a>
                            </li>
                            <li class="icon">
                                <a href="/"><img src="/img/box.png" alt="장바구니"/></a>
                            </li>
                            <li>
                                <a class="buynow" href="/">구매하기</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </header>
            <div class="main">
                <div class="bg-wrap">
                    <div class="text">
                        <div class="galaxy">
                            <h2>GAL AXY</h2>
                        </div>
                        <div class="watchtext back">
                            <h1>WAT</h1>
                            <h1>CH</h1>
                        </div> 
                        <div class="watch">
                            <img src="/img/watch.png" alt="갤럭시와치">
                        </div>
                        <div class="watchtext front">
                            <h1>WAT</h1>
                            <h1>CH</h1>
                        </div>   
                    </div>
                </div> 
            </div>
        </div>
    
        <div class="section section1 panel gsap">
            <div class="section1_container">
                <div class="section_1box">
                    <div class="left_side">
                        <div class="text">
                            <h5 class="title">수면 측정</h5>
                            <h1>당신이<br/>잠든 사이에도</h1>
                            <h5 class="detail">더 정확해진 수면 측정 기능으로 수면 상태를 체크해보세요.<br/>
                                취침 시간을 계획하고, 코골이를 감지하고,<br/> 
                                수면 단계 (수면 중 깸,얕은 수면, 깊은 수면, 렘수면)<br/>
                                를 파악하고 추적할 수 있습니다.</h5>
                        </div>
                        <div class="left_bottom_side">
                            <div class="circle_bg watchbg_1">
                                <div class="circle_1"></div>
                                <h5>코골이 감지</h5>
                            </div>
                            <div class="circle_bg watchbg_2">
                                <div class="circle_2"></div>
                                <h5>수면 분석</h5>
                            </div>
                            <div class="circle_bg watchbg_3">
                                <div class="circle_3"></div>
                                <h5>수면 측정</h5>
                            </div>
                        </div>
                    </div>
                    <div class="right_side">
                        <div class="watchstrap">
                            <div class="watch_img"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section section2">
            
            <div class="section2_container gsap">
                <div class="section_2box background_1">
                    <div class="pink_watch">
                        <h1>PINK GOLD</h1>
                    </div>
                </div>    
                <div class="section_2box background_2">
                    <div class="violet_watch">
                        <h1>SIL VER</h1>
                    </div>
                </div>  
                <div class="section_2box background_3">
                    <div class="darkgray_watch">
                        <h1>DARK GRAY</h1>
                    </div>
                </div>      
            </div>
            <!--
            <div class="section2_container gsap">
                <div class="section_2box background_2">
                    <div class="violet_watch">
                        <h1>SIL VER</h1>
                    </div>
                </div>      
            </div>
            <div class="section2_container gsap">
                <div class="section_2box background_3">
                    <div class="darkgray_watch">
                        <h1>DARK GRAY</h1>
                    </div>
                </div>      
            </div>
            -->
            
        </div>
        
        <div class="section section3 panel">
            <div class="inner_box">
                <div class="padding_20">
                    <div class="text_title">
                        <section class="title">주요 기능</section>
                        <section class="title2">한 눈에 디바이스의 정보를 확인하실 수 있습니다.</section>
                    </div>
                    <div class="swiper_horizon">
                        <ul class="swiper_ul">
                            <li class="swiper_li">
                                <section class="img">
                                    <img src="/img/swiper_list_1.png" alt="">
                                </section>
                                <section class="text">체성분 (BIA)</section>
                            </li>
                            <li class="swiper_li">
                                <section class="img">
                                    <img src="/img/swiper_list_2.png" alt="">
                                </section>
                                <section class="text">심전도 (ECG)</section>
                            </li>
                            <li class="swiper_li">
                                <section class="img">
                                    <img src="/img/swiper_list_3.png" alt="">
                                </section>
                                <section class="text">혈압(BP)</section>
                            </li>
                            <li class="swiper_li">
                                <section>
                                    <img src="/img/swiper_list_4.png" alt="">
                                </section>
                                <section class="text">피트니스</section>
                            </li>
                            <li class="swiper_li">
                                <section>
                                    <img src="/img/swiper_list_5.png" alt="">
                                </section>
                                <section class="text">배터리</section>
                            </li>
                            <li class="swiper_li">
                                <section>
                                    <img src="/img/swiper_list_6.png" alt="">
                                </section>
                                <section class="text">방수</section>
                            </li>
                            <li class="swiper_li">
                                <section>
                                    <img src="/img/swiper_list_1.png" alt="">
                                </section>
                                <section class="text">체성분 (BIA)</section>
                            </li>
                        </ul>
                        <div class="button_next"></div>
                        <div class="button_prev"></div>
                        <div class="swiper-pagination">
                            <span class="swiper-pagination-progressbar-fill"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section section4 panel">
            <div class="section4_inner">
                <div class="padding_20">
                    <div class="tit">
                        <section class="text1">상세 기능</section>
                        <section class="text2">한 눈에 상세기능을 확인하실 수 있습니다.</section>
                    </div>
                    <div class="watch_box">
                        <div class="watch_pic">
                            <img src="/img/last_watch.png" alt="갤럭시 와치">
                        </div>
                        <div class="line_svg_text">
                            <div class="svg_line_1">
                                <p>기압센서</p>
                                <img src="/svg/svg_line_1.svg" alt="svg_line1">
                            </div>
                            <div class="svg_line_2">
                                <img src="/svg/svg_line_2.svg" alt="svg_line2">
                                <p>홈 버튼(전원 버튼)/<br/>
                                전기 생체 센서
                                </p>
                            </div>
                            <div class="svg_line_3">
                                <p>터치 화면</p>
                                <img src="/svg/svg_line_3.svg" alt="svg_line3">
                            </div>
                            <div class="svg_line_4">
                                <img src="/svg/svg_line_4.svg" alt="svg_line4">
                                <p>뒤로 가기 버튼/<br/>
                                전기 생체 센서</p>
                            </div>
                            <div class="svg_line_5">
                                <img src="/svg/svg_line_5.svg" alt="svg_line5">
                                <p>마이크</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>   
    </div>



    <!-- GSAP 라이브러리 설정 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
    <script src="gsap.js"></script>
    <script src="script.js"></script>
    <script>
        /*
        현재 스크롤이 되고있는가 여부를 boolean
        false true

        currentSection == 0

        event -> wheel
        scroll여부 true

        deltaY로 위(currentSection--)로 스크롤했냐 아래(currentSection++)로했냐 여부도 알아야될거

        currentSection++
        setTimeout scroll여부 false

        if(currentSection==4){
            1. position = sticky

            2. 
            배경색 애니메이션 -> 텍스트 innerHTML -> 시계.src
            
            
            스크롤가능하게 바꾸기
        }
            
        
        */

        

        
        let page = 1;
        let iswheel = false; // 배경 및 이미지 변경 상태
        const html = document.documentElement;
        const sections = document.querySelectorAll(".section");
        const lastPage = sections.length;

    

        // 페이지 로딩 시 맨 위로 설정
        html.scrollTo({ top: 0, behavior: "smooth" });

        // wheel 이벤트 리스너 추가
        window.addEventListener("wheel", function (e) {
            if (html.style.scrollBehavior === "smooth") return;

        
            
        

            // 일반적인 스크롤 로직
            if (e.deltaY > 0) {
                if (page === lastPage) return;
                
                page++;
                
                if (page === 2){
                    // page === 2일 때 시계 fadeIn
                    const watchstrap = document.querySelector('.right_side .watchstrap');


                    function fadeIn3(watchstrap, duration){
                        if(!watchstrap)return;
                        watchstrap.style.opacity = 0.01;

                        let opacity3 = 0.01;
                        let left = 100;
                        const interval3 = setInterval(() => {
                            if (opacity3 < 1){
                                opacity3 += 0.01;
                                watchstrap.style.opacity = opacity3;
                            }

                            if (left > 0){
                                left -= 1;
                                watchstrap.style.left = left + 'px';
                            }

                            if (opacity3 >= 1 && left >= 0) {
                                clearInterval(interval3);
                            }
                        }, duration / 100);
                    }
                    fadeIn3(watchstrap, 1000);
                     // page === 2일 때 시계 fadeIn

                }

          
               
            } else if (e.deltaY < 0) {
                if (page === 1) return;
                page--;
                
                if (page === 2){
                    // page === 2일 때 시계 fadeIn
                    const watchstrap = document.querySelector('.right_side .watchstrap');

                    function fadeIn3(watchstrap, duration){
                        if(!watchstrap)return;
                        watchstrap.style.opacity = 0.01;

                        let opacity3 = 0.01;
                        let left = 100;
                        const interval3 = setInterval(() => {
                            if (opacity3 < 1){
                                opacity3 += 0.01;
                                watchstrap.style.opacity = opacity3;
                            }

                            if (left > 0){
                                left -= 1;
                                watchstrap.style.left = left + 'px';
                            }

                            if (opacity3 >= 1 && left >= 0) {
                                clearInterval(interval3);
                            }
                        }, duration / 100);
                    }
                    fadeIn3(watchstrap, 1000);
                     // page === 2일 때 시계 fadeIn

                }

               
            }




             // 1024px 초과일 때만 scrollToPage 실행
            if (window.innerWidth > 1024) {
                scrollToPage(page);
            }
        });

        // 페이지 이동 함수
       
        function scrollToPage(pageNum) {
            console.log(pageNum);
            const posTop = (pageNum - 1) * window.innerHeight;
            html.style.scrollBehavior = "smooth";
            html.scrollTo({ top: posTop, behavior: "smooth" });

            // 애니메이션이 끝난 후 scrollBehavior 초기화
            setTimeout(() => {
                html.style.scrollBehavior = "auto";
            }, 500);
        }

        
  
        



    </script>
</body>
</html>